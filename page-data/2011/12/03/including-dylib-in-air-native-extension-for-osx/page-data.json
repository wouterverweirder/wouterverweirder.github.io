{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2011/12/03/including-dylib-in-air-native-extension-for-osx/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://blog.aboutme.be"}},"markdownRemark":{"id":"e5dc4baa-ce02-53df-ae3f-c64dd04b10c5","excerpt":"I’ve been struggling a bit to create a framework file to use in an air native extension on OSX. The issue was that I was using 3rd party dylib libraries (intel…","html":"<p>I’ve been struggling a bit to create a framework file to use in an air native extension on OSX. The issue was that I was using 3rd party dylib libraries (intel building blocks), which aren’t normally installed on somebody’s computer. The framework compiled and everything, but for some reason the application crashed when using the native extension.</p>\n<p>When air loaded the native extension, it could no longer find the necessary dylib files. Solution was:</p>\n<ul>\n<li>add a copy files phase to your build phases, which should copy your dylib file to the Resources directory of your framework  </li>\n<li>after compilation, open up a terminal window and navigate to your build folder. Use the otool -L command to get a listing of the linked libraries:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">otool -L HelloThreadsAndUSB.framework/HelloThreadsAndUSB</code></pre></div>\n<p>Output is something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HelloThreadsAndUSB:\n    /Library/Frameworks/HelloThreadsAndUSB.framework/Versions/A/HelloThreadsAndUSB (compatibility version 1.0.0, current version 1.0.0)\n    @rpath/Adobe AIR.framework/Versions/1.0/Adobe AIR (compatibility version 1.0.0, current version 1.0.0)\n    /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 15.0.0)\n    libtbb.dylib (compatibility version 0.0.0, current version 0.0.0)\n    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)</code></pre></div>\n<p>In my case, the libtbb.dylib file could not be found when the application launched. You need to change the lookup path with the install_name_tool command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">install_name_tool -change libtbb.dylib @loader_path/Resources/libtbb.dylib HelloThreadsAndUSB.framework/HelloThreadsAndUSB</code></pre></div>\n<p>When you type in the otool command again, you should see the adjusted path:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HelloThreadsAndUSB:\n    /Library/Frameworks/HelloThreadsAndUSB.framework/Versions/A/HelloThreadsAndUSB (compatibility version 1.0.0, current version 1.0.0)\n    @rpath/Adobe AIR.framework/Versions/1.0/Adobe AIR (compatibility version 1.0.0, current version 1.0.0)\n    /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 15.0.0)\n    @loader_path/Resources/libtbb.dylib (compatibility version 0.0.0, current version 0.0.0)\n    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)</code></pre></div>\n<p>Now you should be able to use this framework in your air native extension :-)</p>\n<p>(Note: I tried the other options @executable_path and @rpath, but those didn’t do the trick)</p>","fields":{"slug":"/2011/12/03/including-dylib-in-air-native-extension-for-osx/"},"frontmatter":{"title":"including dylib in air native extension for OSX","date":"03 Dec, 2011","description":false,"tags":["AIR","native extensions","OSX"],"hasCover":false,"cover":{"publicURL":"/static/38bf334212404fb8f25838f80898b83a/preview.png","childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20preserveAspectRatio='none'/%3e","aspectRatio":0.7493606138107417,"src":"/static/38bf334212404fb8f25838f80898b83a/21b0e/preview.png","srcSet":"/static/38bf334212404fb8f25838f80898b83a/12aff/preview.png 293w,\n/static/38bf334212404fb8f25838f80898b83a/8dd70/preview.png 585w,\n/static/38bf334212404fb8f25838f80898b83a/21b0e/preview.png 690w","srcWebp":"/static/38bf334212404fb8f25838f80898b83a/f3dc3/preview.webp","srcSetWebp":"/static/38bf334212404fb8f25838f80898b83a/05ceb/preview.webp 293w,\n/static/38bf334212404fb8f25838f80898b83a/5c538/preview.webp 585w,\n/static/38bf334212404fb8f25838f80898b83a/f3dc3/preview.webp 690w","sizes":"(max-width: 690px) 100vw, 690px"}}}}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/2012/04/19/air-native-extension-for-simple-speech-recognition-on-osx/"},"frontmatter":{"title":"AIR Native extension for simple speech recognition on OSX","tags":["air native extension","nsspeechrecognizer","OSX","speech recognition"],"cover":{"publicURL":"/static/38bf334212404fb8f25838f80898b83a/preview.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAAFklEQVQoz2P4T2XAMGrgqIGjBg6EgQDPpbxuORFYHwAAAABJRU5ErkJggg==","aspectRatio":1.6901408450704225,"src":"/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png","srcSet":"/static/38bf334212404fb8f25838f80898b83a/3ddd7/preview.png 120w,\n/static/38bf334212404fb8f25838f80898b83a/bab64/preview.png 240w,\n/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png 480w,\n/static/38bf334212404fb8f25838f80898b83a/608b8/preview.png 690w","srcWebp":"/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp","srcSetWebp":"/static/38bf334212404fb8f25838f80898b83a/504a6/preview.webp 120w,\n/static/38bf334212404fb8f25838f80898b83a/36764/preview.webp 240w,\n/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp 480w,\n/static/38bf334212404fb8f25838f80898b83a/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}},{"node":{"fields":{"slug":"/2012/02/29/fitc-amsterdam-slides-demo-videos-of-opencv-finger-tracking-air-native-extensions/"},"frontmatter":{"title":"FITC Amsterdam – slides & demo videos of opencv & finger tracking air native extensions","tags":["AIR","air native extension","airkinect","finger tracking","fitc","fitc amsterdam 2012","opencv"],"cover":{"publicURL":"/static/38bf334212404fb8f25838f80898b83a/preview.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAAFklEQVQoz2P4T2XAMGrgqIGjBg6EgQDPpbxuORFYHwAAAABJRU5ErkJggg==","aspectRatio":1.6901408450704225,"src":"/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png","srcSet":"/static/38bf334212404fb8f25838f80898b83a/3ddd7/preview.png 120w,\n/static/38bf334212404fb8f25838f80898b83a/bab64/preview.png 240w,\n/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png 480w,\n/static/38bf334212404fb8f25838f80898b83a/608b8/preview.png 690w","srcWebp":"/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp","srcSetWebp":"/static/38bf334212404fb8f25838f80898b83a/504a6/preview.webp 120w,\n/static/38bf334212404fb8f25838f80898b83a/36764/preview.webp 240w,\n/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp 480w,\n/static/38bf334212404fb8f25838f80898b83a/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}},{"node":{"fields":{"slug":"/2012/01/13/access-the-mac-sudden-motion-sensor-with-an-air-native-extension/"},"frontmatter":{"title":"Access the mac sudden motion sensor with an AIR native extension","tags":["accelerometer","AIR","native extension","OSX","sudden motion sensor"],"cover":{"publicURL":"/static/38bf334212404fb8f25838f80898b83a/preview.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAAFklEQVQoz2P4T2XAMGrgqIGjBg6EgQDPpbxuORFYHwAAAABJRU5ErkJggg==","aspectRatio":1.6901408450704225,"src":"/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png","srcSet":"/static/38bf334212404fb8f25838f80898b83a/3ddd7/preview.png 120w,\n/static/38bf334212404fb8f25838f80898b83a/bab64/preview.png 240w,\n/static/38bf334212404fb8f25838f80898b83a/c0ead/preview.png 480w,\n/static/38bf334212404fb8f25838f80898b83a/608b8/preview.png 690w","srcWebp":"/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp","srcSetWebp":"/static/38bf334212404fb8f25838f80898b83a/504a6/preview.webp 120w,\n/static/38bf334212404fb8f25838f80898b83a/36764/preview.webp 240w,\n/static/38bf334212404fb8f25838f80898b83a/1f47d/preview.webp 480w,\n/static/38bf334212404fb8f25838f80898b83a/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}}]}},"pageContext":{"slug":"/2011/12/03/including-dylib-in-air-native-extension-for-osx/","previous":{"fields":{"slug":"/2011/11/24/airserver-support-for-websocket-version-8/"},"frontmatter":{"title":"websocket version 8 support in AIR Server","tags":["Actionscript 3.0","AIR","Flash","html5"]}},"next":{"fields":{"slug":"/2011/12/10/udp-in-air-for-ios-using-a-native-extension/"},"frontmatter":{"title":"UDP in AIR for iOS using a native extension","tags":["AIR","iOS","native extensions"]}},"tag":["AIR","native extensions","OSX"]}}}
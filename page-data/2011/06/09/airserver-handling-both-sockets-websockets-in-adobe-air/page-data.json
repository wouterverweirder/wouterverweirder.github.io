{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2011/06/09/airserver-handling-both-sockets-websockets-in-adobe-air/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://blog.aboutme.be"}},"markdownRemark":{"id":"e21873c4-1c08-581a-bde9-69ce09884f42","excerpt":"In my previous post, I talked about how to handle websockets in Adobe AIR. I’ve written a library around it, which makes it easier to implement in your projects…","html":"<p><a href=\"/2011/06/07/handling-websocket-connections-with-adobe-air-serversocket/\">In my previous post, I talked about how to handle websockets in Adobe AIR</a>. I’ve written a library around it, which makes it easier to implement in your projects. Another benefit of the library, is you can combine websockets with regular sockets, so you’re able to talk between Adobe AIR, websockets and flash sockets.<!--more--></p>\n<p>First of all, <a href=\"https://github.com/wouterverweirder/AIR-Server\">download the sources containing the library and some demo projects</a>. Import the library project into Flash Builder. Next step could be checking out the demo’s: you’ll need the server demo (MessagesDemoServer), which is an Adobe AIR app.</p>\n<p>This MessagesDemoServer example, listens for amf sockets on port 1234 and websockets on port 1235:</p>\n<div class=\"gatsby-highlight\" data-language=\"actionscript\"><pre class=\"language-actionscript\"><code class=\"language-actionscript\">server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AIRServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//add the listening endpoints</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">addEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SocketEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token number\">1234</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AMFSocketClientHanderFactory</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">NativeObjectSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">addEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SocketEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token number\">1235</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebSocketClientHandlerFactory</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">JSONSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//add event listeners</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>AIRServerEvent<span class=\"token punctuation\">.</span><span class=\"token constant\">CLIENT_ADDED</span><span class=\"token punctuation\">,</span> clientAddedHandler<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>AIRServerEvent<span class=\"token punctuation\">.</span><span class=\"token constant\">CLIENT_REMOVED</span><span class=\"token punctuation\">,</span> clientRemovedHandler<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>MessageReceivedEvent<span class=\"token punctuation\">.</span><span class=\"token constant\">MESSAGE_RECEIVED</span><span class=\"token punctuation\">,</span> messageReceivedHandler<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//start the server</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You’ll also notice the need to specify a “ClientHandler Factory”. This way, you can specify custom object serializers if needed and custom crossdomain xmls (optional). Right now, there’s support for JSON encoding (for text-socket communication like websockets) and native encoding (for communication with flash client sockets).</p>\n<p>There are two clients in the examples aswell: an AMF Client (which is basically a flex app to connect &#x26; send messages to the server), and a HTML5/Javascript Client (same functionality as the flex application).</p>\n<p><del datetime=\"2011-06-10T12:00:54+00:00\">So, <a href=\"http://labs.aboutme.be/airserver/airserver-0.1.zip\">download &#x26; enjoy this library</a> You can report bugs, or send in suggestions in the comments… Stay tuned for some more updates the next couple of days…</del></p>\n<p><a href=\"https://github.com/wouterverweirder/AIR-Server\">You can find the latest version on github</a></p>","fields":{"slug":"/2011/06/09/airserver-handling-both-sockets-websockets-in-adobe-air/"},"frontmatter":{"title":"AIRServer – handling both sockets & websockets in Adobe AIR","date":"09 Jun, 2011","description":false,"tags":["Actionscript 3.0","AIR","html5"],"hasCover":true,"cover":{"publicURL":"/static/1318357def7d3d5ff58df99b3684c74f/preview.jpg","childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='533'%20viewBox='0%200%20400%20533'%20preserveAspectRatio='none'%3e%3cpath%20d='M0%20267v266h401V0H0v267m58-65c-2%200-3%201-3%202%200%202%200%202%201%201%202-3%203-2%205%200l3%202%204%203c1%203%201%203-2%203l2%201c3%201%202%201-4%201h-8v7l1-3c1-3%205-4%204-1%200%203%202%202%202%200%201-3%204-2%205%201%201%202%201%202%201-1%201-2%204-2%205%200h-2c-2%200-2%200-1%201%202%202%2039%202%2040%200l4-2h3a340%20340%200%2000-46-2l1-3c1-3%206-3%207%200%200%201%201%202%203%202h3l-1-3-3-3-1-2c0-5-7-6-23-4m64%200v13c0-5%200-5%201-4%202%202%202%202%202%200h3c0%202%201%202%201%201l2%202%204%202c4%200%203%204-1%204-3%201-3%201%201%201%203%200%204%200%204-3l1-3%201%201c-1%201%200%201%202%201l3-1%202-1v1c-1%201-1%201%201%201s3%201%203%202l1-1c1-2%203-4%203-2l7%201c4%200%206%200%205-1s0-1%204-1l4%201c-2%201-2%201%200%201%203%200%203%200%202%201s-5%202-12%202l-10%201h11l12-1c0-1%201-2%202-1l1-1%201-2h2c1-1%203-2%205-1l1%201c-1%201%200%201%202%201s3%200%202-1v-4l1-2v2c-1%202%200%203%201%202%202%200%202%200%201%201v2l2%201%204-1%205-2%202-2h-3c-6%200-5-2%202-2%205%200%207%201%203%202-3%201-2%203%201%202l3%201c-1%201%200%201%201%201v-1l1-1c1%201%204-2%204-4-1-1%200-2%201-2l1-1%202-3%201-2c-2-1-105-2-106-1m129%208l-2%203h-9l-10%201%201%201h5l6-1%205%201h3c1%200%202%200%201-1v-1c1%200%204%202%204%204-1%204-3%204%2040%204h39v-7h-25l-2-4-1-4h-54l-1%204M56%20223h8c6%200%206%200%206%202s0%203%203%202l2%201-10%201-9%202h5l4%201c0%201-1%202-5%202l-4%201h5l4%201c0%201-1%202-4%202l-5%201h5l4%201c0%201-1%202-5%202l-4%201h5l4%201c0%201-1%202-5%202h-4v73h65v12h10l10-1c0-2-2-2%2035-2a164%20164%200%200030-1c1%201%201%201%201-1%200-3%200-3%201-1%201%203%205%204%205%201l4-2c3%200%204%201%204%202l2%201%202-1c2%200%201-2-1-3s-2-1%201-1h3l-3-1c-3-1-3-1-1-1h2v-87h-32c-29%200-33%200-33%202l-6%201-8-1%206-1h7l-18-1-18%201h-1c0-2%203-2%2052-2h52v-9l-86-1-85%201m173%2057v51h115v-7l-1-8v-1l1-41c0-39%200-42-2-42v-1l2-1-57-1h-58v51m20%2040v3h36v-7h-36v4m3-2l-1%202c0%202%201%202%2016%202%2017%200%2017%200%2016-3%200-2-1-2-15-2l-16%201m-196%205v2h62v-5H56v3'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":0.7493606138107417,"src":"/static/1318357def7d3d5ff58df99b3684c74f/d6678/preview.jpg","srcSet":"/static/1318357def7d3d5ff58df99b3684c74f/40917/preview.jpg 293w,\n/static/1318357def7d3d5ff58df99b3684c74f/3c0b6/preview.jpg 585w,\n/static/1318357def7d3d5ff58df99b3684c74f/d6678/preview.jpg 690w","srcWebp":"/static/1318357def7d3d5ff58df99b3684c74f/f3dc3/preview.webp","srcSetWebp":"/static/1318357def7d3d5ff58df99b3684c74f/05ceb/preview.webp 293w,\n/static/1318357def7d3d5ff58df99b3684c74f/5c538/preview.webp 585w,\n/static/1318357def7d3d5ff58df99b3684c74f/f3dc3/preview.webp 690w","sizes":"(max-width: 690px) 100vw, 690px"}}}}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/2012/02/29/fitc-amsterdam-slides-demo-videos-of-opencv-finger-tracking-air-native-extensions/"},"frontmatter":{"title":"FITC Amsterdam – slides & demo videos of opencv & finger tracking air native extensions","tags":["AIR","air native extension","airkinect","finger tracking","fitc","fitc amsterdam 2012","opencv"],"cover":{"publicURL":"/static/c54a46e8e74c3f7aa8d408c94b6f1640/preview.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHZSsCown//xAAYEAADAQEAAAAAAAAAAAAAAAAAAQIREP/aAAgBAQABBQIT2uROM//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAABECH/2gAIAQEABj8CGsrn/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERMVEQ/9oACAEBAAE/IYPYJJx6QlEau+f/2gAMAwEAAgADAAAAEIw//8QAFhEBAQEAAAAAAAAAAAAAAAAAEQEQ/9oACAEDAQE/EIGf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAQARMSFB4f/aAAgBAQABPxAhaB4aLGYGPuSR0p5PHfk9v//Z","aspectRatio":1.6901408450704225,"src":"/static/c54a46e8e74c3f7aa8d408c94b6f1640/9da5a/preview.jpg","srcSet":"/static/c54a46e8e74c3f7aa8d408c94b6f1640/6e6c3/preview.jpg 120w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/ef489/preview.jpg 240w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/9da5a/preview.jpg 480w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/9f916/preview.jpg 690w","srcWebp":"/static/c54a46e8e74c3f7aa8d408c94b6f1640/1f47d/preview.webp","srcSetWebp":"/static/c54a46e8e74c3f7aa8d408c94b6f1640/504a6/preview.webp 120w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/36764/preview.webp 240w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/1f47d/preview.webp 480w,\n/static/c54a46e8e74c3f7aa8d408c94b6f1640/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}},{"node":{"fields":{"slug":"/2012/01/13/access-the-mac-sudden-motion-sensor-with-an-air-native-extension/"},"frontmatter":{"title":"Access the mac sudden motion sensor with an AIR native extension","tags":["accelerometer","AIR","native extension","OSX","sudden motion sensor"],"cover":{"publicURL":"/static/eacb22b7ae25c87ddca89cb5fee3052d/preview.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHuz0qF5gT/xAAZEAADAQEBAAAAAAAAAAAAAAABAgMAEBH/2gAIAQEAAQUCY+CVS7Y5ZonP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQEQ/9oACAEDAQE/AWGf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhABAAIDAQAAAAAAAAAAAAAAARARAAIhIv/aAAgBAQAGPwJcpK5PnUI//8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAEDFRYXH/2gAIAQEAAT8h6MDnJGbQMI5DD8kV/9oADAMBAAIAAwAAABAMz//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxABCbP/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QR2f/xAAbEAEBAAMAAwAAAAAAAAAAAAABEQAhMRBBUf/aAAgBAQABPxD2beL2FyAtqxMRCWR0jrwTgKER4mWRkjq1iv1z/9k=","aspectRatio":1.6901408450704225,"src":"/static/eacb22b7ae25c87ddca89cb5fee3052d/9da5a/preview.jpg","srcSet":"/static/eacb22b7ae25c87ddca89cb5fee3052d/6e6c3/preview.jpg 120w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/ef489/preview.jpg 240w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/9da5a/preview.jpg 480w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/9f916/preview.jpg 690w","srcWebp":"/static/eacb22b7ae25c87ddca89cb5fee3052d/1f47d/preview.webp","srcSetWebp":"/static/eacb22b7ae25c87ddca89cb5fee3052d/504a6/preview.webp 120w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/36764/preview.webp 240w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/1f47d/preview.webp 480w,\n/static/eacb22b7ae25c87ddca89cb5fee3052d/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}},{"node":{"fields":{"slug":"/2012/01/07/accessing-the-kinect-in-javascript-through-websockets/"},"frontmatter":{"title":"Accessing the kinect in javascript through websockets","tags":["AIR","airkinect","AIRServer","as3nui","canvas","html5","js","kinect","threejs"],"cover":{"publicURL":"/static/283803d2c53ef9765825374d2c3a8366/preview.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHcjcCGH//EABYQAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAQABBQJhl//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAgQf/aAAgBAQAGPwIq/wD/xAAcEAABAwUAAAAAAAAAAAAAAAAAARGRICExQWH/2gAIAQEAAT8htXcD8gYKP//aAAwDAQACAAMAAAAQgA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEgIUFR0f/aAAgBAQABPxB06VnCYE9M0s6w/9k=","aspectRatio":1.6901408450704225,"src":"/static/283803d2c53ef9765825374d2c3a8366/9da5a/preview.jpg","srcSet":"/static/283803d2c53ef9765825374d2c3a8366/6e6c3/preview.jpg 120w,\n/static/283803d2c53ef9765825374d2c3a8366/ef489/preview.jpg 240w,\n/static/283803d2c53ef9765825374d2c3a8366/9da5a/preview.jpg 480w,\n/static/283803d2c53ef9765825374d2c3a8366/9f916/preview.jpg 690w","srcWebp":"/static/283803d2c53ef9765825374d2c3a8366/1f47d/preview.webp","srcSetWebp":"/static/283803d2c53ef9765825374d2c3a8366/504a6/preview.webp 120w,\n/static/283803d2c53ef9765825374d2c3a8366/36764/preview.webp 240w,\n/static/283803d2c53ef9765825374d2c3a8366/1f47d/preview.webp 480w,\n/static/283803d2c53ef9765825374d2c3a8366/26a56/preview.webp 690w","sizes":"(max-width: 480px) 100vw, 480px"}}}}}}]}},"pageContext":{"slug":"/2011/06/09/airserver-handling-both-sockets-websockets-in-adobe-air/","previous":{"fields":{"slug":"/2011/06/07/handling-websocket-connections-with-adobe-air-serversocket/"},"frontmatter":{"title":"Handling websocket connections with Adobe AIR ServerSocket","tags":["Actionscript 3.0","AIR","html5"]}},"next":{"fields":{"slug":"/2011/06/10/communicating-between-websockets-local-p2p-flash-sockets-air/"},"frontmatter":{"title":"Communicating between websockets, local P2P, flash sockets & AIR","tags":["Actionscript 3.0","AIR","html5"]}},"tag":["Actionscript 3.0","AIR","html5"]}}}